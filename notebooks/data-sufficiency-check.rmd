---
title: "Data Sufficiency Check"
author: "Ian Ozeroff"
date: "1/3/2020"
output: html_document
---

```{r setup, include=FALSE}
library(here)
library(AirSensor)
library(dplyr)
library(ggplot2)
library(lubridate)

knitr::opts_knit$set(root.dir = here())
```

```{r, source functions, include = FALSE}

source("R/util.R")
source("R/ingest.R")
pat_list <- load_pat_list()

```

```{r}
sensor1 <- pat_list[[1]]

test <- pat_aggregate(sensor1)


test %>% 
  summarize("Average Hourly Percentage A" = mean(pm25_A_count / 30))

# TODO: Max Count could be either 30 or 31 depending on timing.
test %>% 
  select(datetime, pm25_A_count, pm25_B_count, humidity_count, temperature_count) %>% 
  mutate("Percentage PM A Measurements" = pm25_A_count / 30,
         "Percentage PM B Measurements" = pm25_B_count / 30,
         "Percentage Temperature Measurements" = temperature_count / 30,
         )

```




